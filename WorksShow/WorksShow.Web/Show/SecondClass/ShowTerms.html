<!DOCTYPE html>
<html lang="zh">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>学生作品展示平台</title>
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/htmleaf-demo.css">
	<link rel="stylesheet" href="src/mg-space.css">
	<script src="js/jquery-1.11.0.min.js" type="text/javascript"></script>
	<style type="text/css">
		.element {
			border: 15px solid transparent;
			/* padding: 10px 20px; */
			/* margin: 30px auto; */
			margin: 0;padding: 0;
			color: #15b26d;
		}

		.element1 {
			-webkit-border-image: url(images/huawen_biankuang.png) 27 round;
			-moz-border-image: url(images/huawen_biankuang.png) 27 round;
			-o-border-image: url(images/huawen_biankuang.png) 27 round;
			border-image: url(images/huawen_biankuang.png) 27 round;
		}
	</style>
	<!--[if IE]>
		<script src="http://libs.useso.com/js/html5shiv/3.7/html5shiv.min.js"></script>
	<![endif]-->
</head>

<!-- <object data="navbar.html" width="100%"></object> -->
<script type="text/javascript" src="navbar.js"></script>
<body class="default">
	<div class="htmleaf-container">
		<!-- <header class="htmleaf-header">

		</header> -->
		<div class="wrapper">
			<div id="content">
				<div class="mg-space-init container vert">
					<!-- <h1>MG Space Demo 1 - Basic Grid</h1> -->
					<div class="mg-rows row row-flex" id="terms">
						<!-- <div class="xs-6 sm-4 lg-3 demo-item">
							<img class="mg-trigger img-responsive" src="img/1.jpg" alt="" />
							<span>Lorem ipsum<br> dolor sit amet.</span>
						</div> -->
					</div>
					<div class="mg-targets row" id="level">
						<!-- <div class="">
							<div class="container">
								<div class="row row-flex">
									<div class="xs-6 sm-3 lg-3 demo-item">
										<img src="img/1-1.jpg" alt="Content">
										<span>Lorem ipsum dolor sit amet.</span>
									</div>
									<div class="xs-6 sm-3 lg-3 demo-item">
										<img src="img/1-2.jpg" alt="Content">
										<span>Lorem ipsum dolor sit amet.</span>
									</div>
									<div class="xs-6 sm-3 lg-3 demo-item">
										<img src="img/1-3.jpg" alt="Content">
										<span>Lorem ipsum dolor sit amet.</span>
									</div>
									<div class="xs-6 sm-3 lg-3 demo-item">
										<img src="img/1-4.jpg" alt="Content">
										<span>Lorem ipsum dolor sit amet.</span>
									</div>
									<div class="xs-6 sm-3 lg-3 demo-item">
										<img src="img/1-5.jpg" alt="Content">
										<span>Lorem ipsum dolor sit amet.</span>
									</div>
								</div>
							</div>
						</div> -->

					</div>
				</div>
			</div>
		</div>
		<!-- <object data="footer.html" width="100%" style="position:fixed; bottom:0; z-index:2000;"></object> -->
		<script type="text/javascript" src="footer.js"></script>
	</div>
	<script type="text/javascript">
		$(function () {
			var terms;
			//获取 学期信息并显示
			$.ajax({
				url: "/Service/pData.ashx",
				data: {
					"t": "SecondClassroomTeamList"
				},
				type: "post",
				datatype: "json",
				async: false,
				success: function (data) {
					var data = eval('(' + data + ')');
					testJson = $.parseJSON(data);
					console.log(testJson);
					var items = testJson.ds;

					terms = items;

					var contentTerms = " ";
					 for (var item=1; item< items.length;item++) {
						contentTerms += "<div class='xs-6 sm-4 lg-3 demo-item' >" +
							"<img class='mg-trigger img-responsive  element element1' src='" + items[item].img_url + "' alt=''>" +
							"<span'>" + items[0].title + "<br>" + items[item].content + "</span>" +
							"</div>";
					}
					$("#terms").html(contentTerms);
				},
				error: function (data) {
					alert("error:" + data)
				}
			});
			// ajax end
			var contentLevel = " ";
			for (var item=1;item< terms.length;item++) {
				// 获取对应学期下的等级信息
				$.ajax({
					url: "/Service/pData.ashx",
					data: {
						"t": "LevelList",
						"teamId": terms[item].id
					},
					type: "post",
					datatype: "json",
					async: false,
					success: function (data) {
						var data = eval('(' + data + ')');
						testJson = $.parseJSON(data);
						console.log(testJson);

						var items = testJson.ds;

						var contentLeft = "<div class=''>" +
							"<div class='container'>" +
							"<div class='row row-flex'>";
						var content = " ";
						var contentRight = " </div> </div> </div>";
						//alert("data:" + testJson.ds);
						for (var item in items) {
							content +=
								"<div class='xs-6 sm-4 lg-3 demo-item ' onmouseover=this.style.cursor='pointer' onclick=window.open('" +
								"ShowTermWorks.html?term=" + items[item].parent_id + "&level=" + escape(items[item].title) +
								"','_self')>" +
								"<img src='" + items[item].img_url + "' alt='" + items[item].title + "'>" +
								"<span>" + items[item].title + "</span>" + "</div>";
						}
						contentLevel += contentLeft + content + contentRight;
					},
					error: function (data) {
						return false;
					}
				});
			}
			$("#level").html(contentLevel);

		});

		function getUrlParam(name) {
			var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
			var r = window.location.search.substr(1).match(reg); //匹配目标参数
			if (r != null) return unescape(r[2]);
			return null; //返回参数值
		}
	</script>

	<!-- <script>window.jQuery || document.write('<script src="js/jquery-1.11.0.min.js"><\/script>')</script> -->
	<script type="text/javascript" src="src/jquery.mg-space.js"></script>
	<!-- <script src="js/slick/slick.js"></script> -->
	<script type="text/javascript" src="js/app.js"></script>


</body>

</html>